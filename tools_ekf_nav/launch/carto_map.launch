<launch>
    <!-- 底盘+雷达+TF -->
    <include file="$(find tools_ekf_nav)/launch/base_robot.launch"/>

    <node pkg="imu_filter_madgwick" type="imu_filter_node" name="imu_filter_madgwick" output="screen" respawn="true" >
      <param name="fixed_frame" value="odom" />
      <param name="use_mag" value="false" />
      <param name="publish_tf" value="false" />
      <param name="use_magnetic_field_msg" value="true" />  
      <param name="world_frame" value="enu" />
      <remap from="imu/data" to="imu_data" />
    </node>

    <!-- odom->base_link -->
    <include file="$(find robot_pose_ekf)/robot_pose_ekf.launch"/>

    <!-- cartographer -->
    <node name="cartographer_node" pkg="cartographer_ros"
        type="cartographer_node" args="
            -configuration_directory $(find tools_ekf_nav)/config
            -configuration_basename carto_2d.lua"
        output="screen">
        <remap from="scan" to="scan" />
    </node>
    <node name="cartographer_occupancy_grid_node" pkg="cartographer_ros"
      type="cartographer_occupancy_grid_node" args="-resolution 0.05" />

</launch>
